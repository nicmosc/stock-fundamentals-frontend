(this["webpackJsonpstock-fundamentals-frontend"]=this["webpackJsonpstock-fundamentals-frontend"]||[]).push([[0],{224:function(e,t,r){"use strict";r.r(t);r(141);var n=r(0),c=r.n(n),a=r(25),i=r.n(a),s=r(98),o=r(80),d=r(69),u=r(227),l=r(232),j=r(229),b=r(230),h=r(231),f=r(131),O=r(228),x=r(233),v=r(122),g=r.n(v),m=r(107),p=r.n(m),y=r(123),k=r(70);function P(){console.error("API Host ","");var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,c=t.waitFor,a=void 0===c||c,i=t.shouldExecute,s=void 0===i||i,d=Object(n.useState)({isLoading:!0,data:void 0,error:void 0}),u=Object(o.a)(d,2),l=u[0],j=u[1],b=function(e){return j((function(t){return Object(k.a)(Object(k.a)({},t),e)}))};return Object(n.useEffect)((function(){a&&s&&function(){var t=Object(y.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b({isLoading:!0}),t.next=3,fetch(e);case 3:if(!(n=t.sent).ok){t.next=11;break}return t.next=7,n.json();case 7:c=t.sent,b({isLoading:!1,data:null!=r?r(c):c}),t.next=12;break;case 11:b({isLoading:!1,error:{status:n.status}});case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,a]),l}(g()("","api/stocks"));return{isLoading:e.isLoading,error:e.error,stocks:e.data}}function S(e){return Math.round(100*(e+Number.EPSILON))/100}function w(e,t,r){return function(e){return e.filter((function(e){return e.fairPrice>0&&e.discountScore<1.1}))}(function(e){return e.filter((function(e){return e.stats.growthRate>.1&&e.stats.growthRate<1}))}(r).map((function(r){var n=function(e,t,r){var n=r.est10thYearPrice;return S(Object(s.a)(Array(9)).reduce((function(t){return t/(1+e)}),n)*t)}(e,t,r.stats);return Object(k.a)(Object(k.a)({},r),{},{fairPrice:n,discountScore:S(r.stats.currentPrice/n),fundamentalsScore:0})})))}var L=r(24),I=function(){var e=P(),t=e.isLoading,r=e.stocks,c=void 0===r?[]:r,a=Object(n.useState)(50),i=Object(o.a)(a,2),v=i[0],g=i[1],m=Object(n.useState)(20),p=Object(o.a)(m,2),y=p[0],k=p[1],S=w(y/100,1-v/100,c),I=Object(s.a)(S).sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(L.jsxs)(u.a,{style:{height:"100vh"},children:[Object(L.jsx)(u.a.Header,{children:Object(L.jsx)(l.b,{align:"center",style:{height:"100%"},children:Object(L.jsx)(j.a.Title,{level:2,style:{color:d.c[0],marginBottom:0},children:"The Stock depot"})})}),Object(L.jsx)(u.a.Content,{children:Object(L.jsxs)("div",{style:{height:"100%",margin:20},children:[Object(L.jsx)(b.a,{ghost:!1,children:Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Margin of safety (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(h.a,{value:v,onChange:g})})})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Desired rate of return (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(h.a,{value:y,onChange:k})})})]})]})}),Object(L.jsx)(f.a,{spinning:t,children:Object(L.jsx)(O.a,{dataSource:I.map((function(e){return{name:Object(L.jsxs)(j.a.Link,{href:"https://finance.yahoo.com/quote/".concat(e.symbol),target:"_blank",children:[e.name," (",e.symbol,")"]}),sector:e.profile.sector,price:"$".concat(e.stats.currentPrice),fair:"$".concat(e.fairPrice),discount:String(Math.round(100*(1-e.stats.currentPrice/e.fairPrice)))}})),columns:[{title:"Name",dataIndex:"name"},{title:"Sector",dataIndex:"sector"},{title:"Current Price",dataIndex:"price"},{title:"Est. Fair Price",dataIndex:"fair"},{title:"Discount",dataIndex:"discount",render:function(e){return e<=0?Object(L.jsx)(x.a,{color:d.d.primary,children:"No discount"}):Object(L.jsx)(x.a,{color:d.b.primary,children:"-".concat(e,"%")})}}]})}),Object(L.jsx)(j.a.Text,{children:"Prices updated daily"})]})})]})};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(I,{})}),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.d5596751.chunk.js.map