(this["webpackJsonpstock-fundamentals-frontend"]=this["webpackJsonpstock-fundamentals-frontend"]||[]).push([[0],{224:function(t,e,r){"use strict";r.r(e);r(141);var n=r(0),c=r.n(n),a=r(25),i=r.n(a),s=r(98),o=r(80),d=r(69),u=r(227),l=r(232),j=r(229),h=r(230),b=r(231),f=r(131),O=r(228),x=r(233),v=r(122),g=r.n(v),m=r(107),p=r.n(m),y=r(123),k=r(70);function S(){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,c=e.waitFor,a=void 0===c||c,i=e.shouldExecute,s=void 0===i||i,d=Object(n.useState)({isLoading:!0,data:void 0,error:void 0}),u=Object(o.a)(d,2),l=u[0],j=u[1],h=function(t){return j((function(e){return Object(k.a)(Object(k.a)({},e),t)}))};return Object(n.useEffect)((function(){a&&s&&function(){var e=Object(y.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({isLoading:!0}),e.next=3,fetch(t);case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:c=e.sent,h({isLoading:!1,data:null!=r?r(c):c}),e.next=12;break;case 11:h({isLoading:!1,error:{status:n.status}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,a]),l}(g()("http://localhost:8080","api/stocks"));return{isLoading:t.isLoading,error:t.error,stocks:t.data}}function P(t){return Math.round(100*(t+Number.EPSILON))/100}function w(t,e,r){return function(t){return t.filter((function(t){return t.fairPrice>0&&t.discountScore<1.1}))}(function(t){return t.filter((function(t){return t.stats.growthRate>.1&&t.stats.growthRate<1}))}(r).map((function(r){var n=function(t,e,r){var n=r.est10thYearPrice;return P(Object(s.a)(Array(9)).reduce((function(e){return e/(1+t)}),n)*e)}(t,e,r.stats);return Object(k.a)(Object(k.a)({},r),{},{fairPrice:n,discountScore:P(r.stats.currentPrice/n),fundamentalsScore:0})})))}var L=r(24),I=function(){var t=S(),e=t.isLoading,r=t.stocks,c=void 0===r?[]:r,a=Object(n.useState)(50),i=Object(o.a)(a,2),v=i[0],g=i[1],m=Object(n.useState)(20),p=Object(o.a)(m,2),y=p[0],k=p[1],P=w(y/100,1-v/100,c),I=Object(s.a)(P).sort((function(t,e){return t.name.localeCompare(e.name)}));return Object(L.jsxs)(u.a,{style:{height:"100vh"},children:[Object(L.jsx)(u.a.Header,{children:Object(L.jsx)(l.b,{align:"center",style:{height:"100%"},children:Object(L.jsx)(j.a.Title,{level:2,style:{color:d.c[0],marginBottom:0},children:"The Stock depot"})})}),Object(L.jsx)(u.a.Content,{children:Object(L.jsxs)("div",{style:{height:"100%",margin:20},children:[Object(L.jsx)(h.a,{ghost:!1,children:Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Margin of safety (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(b.a,{value:v,onChange:g})})})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Desired rate of return (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(b.a,{value:y,onChange:k})})})]})]})}),Object(L.jsx)(f.a,{spinning:e,children:Object(L.jsx)(O.a,{dataSource:I.map((function(t){return{name:Object(L.jsxs)(j.a.Link,{href:"https://finance.yahoo.com/quote/".concat(t.symbol),target:"_blank",children:[t.name," (",t.symbol,")"]}),sector:t.profile.sector,price:"$".concat(t.stats.currentPrice),fair:"$".concat(t.fairPrice),discount:String(Math.round(100*(1-t.stats.currentPrice/t.fairPrice)))}})),columns:[{title:"Name",dataIndex:"name"},{title:"Sector",dataIndex:"sector"},{title:"Current Price",dataIndex:"price"},{title:"Est. Fair Price",dataIndex:"fair"},{title:"Discount",dataIndex:"discount",render:function(t){return t<=0?Object(L.jsx)(x.a,{color:d.d.primary,children:"No discount"}):Object(L.jsx)(x.a,{color:d.b.primary,children:"-".concat(t,"%")})}}]})})]})})]})};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(I,{})}),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.f43db39f.chunk.js.map