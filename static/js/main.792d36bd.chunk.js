(this["webpackJsonpstock-fundamentals-frontend"]=this["webpackJsonpstock-fundamentals-frontend"]||[]).push([[0],{224:function(t,e,n){"use strict";n.r(e);n(141);var r=n(0),c=n.n(r),a=n(25),i=n.n(a),s=n(98),o=n(80),d=n(69),u=n(227),l=n(232),j=n(229),h=n(230),b=n(231),f=n(131),O=n(228),x=n(233),v=n(122),g=n.n(v),m=n(107),p=n.n(m),k=n(123),y=n(70);function S(){var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,c=e.waitFor,a=void 0===c||c,i=e.shouldExecute,s=void 0===i||i,d=Object(r.useState)({isLoading:!0,data:void 0,error:void 0}),u=Object(o.a)(d,2),l=u[0],j=u[1],h=function(t){return j((function(e){return Object(y.a)(Object(y.a)({},e),t)}))};return Object(r.useEffect)((function(){a&&s&&function(){var e=Object(k.a)(p.a.mark((function e(){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({isLoading:!0}),e.next=3,fetch(t);case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:c=e.sent,h({isLoading:!1,data:null!=n?n(c):c}),e.next=12;break;case 11:h({isLoading:!1,error:{status:r.status}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,a]),l}(g()("http://localhost:8080","api/stocks"));return{isLoading:t.isLoading,error:t.error,stocks:t.data}}function P(t){return Math.round(100*(t+Number.EPSILON))/100}function w(t,e,n){return function(t){return t.filter((function(t){return t.fairPrice>0&&t.discountScore<1.1}))}(function(t){return t.filter((function(t){return t.stats.growthRate>.1&&t.stats.growthRate<1}))}(n).map((function(n){var r=function(t,e,n){var r=n.est10thYearPrice;return P(Object(s.a)(Array(9)).reduce((function(e){return e/(1+t)}),r)*e)}(t,e,n.stats);return Object(y.a)(Object(y.a)({},n),{},{fairPrice:r,discountScore:P(n.stats.currentPrice/r),fundamentalsScore:0})})))}var L=n(24),I=function(){var t=S(),e=t.isLoading,n=t.stocks,c=void 0===n?[]:n,a=Object(r.useState)(50),i=Object(o.a)(a,2),v=i[0],g=i[1],m=Object(r.useState)(20),p=Object(o.a)(m,2),k=p[0],y=p[1],P=w(k/100,1-v/100,c),I=Object(s.a)(P).sort((function(t,e){return t.name.localeCompare(e.name)}));return Object(L.jsxs)(u.a,{style:{height:"100vh"},children:[Object(L.jsx)(u.a.Header,{children:Object(L.jsx)(l.b,{align:"center",style:{height:"100%"},children:Object(L.jsx)(j.a.Title,{level:2,style:{color:d.c[0],marginBottom:0},children:"The Stock depot"})})}),Object(L.jsx)(u.a.Content,{children:Object(L.jsxs)("div",{style:{height:"100%",margin:20},children:[Object(L.jsx)(h.a,{ghost:!1,children:Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Margin of safety (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(b.a,{value:v,onChange:g})})})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:"Desired rate of return (%)"}),Object(L.jsx)(l.b,{direction:"vertical",size:"large",children:Object(L.jsx)("div",{style:{width:200},children:Object(L.jsx)(b.a,{value:k,onChange:y})})})]})]})}),Object(L.jsx)(f.a,{spinning:e,children:Object(L.jsx)(O.a,{dataSource:I.map((function(t){return{name:Object(L.jsx)(j.a.Link,{href:"https://finance.yahoo.com/quote/".concat(t.symbol),target:"_blank",children:t.name}),ticker:t.symbol,price:"$".concat(t.stats.currentPrice),fair:"$".concat(t.fairPrice),discount:String(Math.round(100*(1-t.stats.currentPrice/t.fairPrice)))}})),columns:[{title:"Name",dataIndex:"name"},{title:"Ticker",dataIndex:"ticker"},{title:"Price",dataIndex:"price"},{title:"Fair",dataIndex:"fair"},{title:"Discount",dataIndex:"discount",render:function(t){return t<=0?Object(L.jsx)(x.a,{color:d.d.primary,children:"No discount"}):Object(L.jsx)(x.a,{color:d.b.primary,children:"-".concat(t,"%")})}}]})})]})})]})};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(I,{})}),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.792d36bd.chunk.js.map